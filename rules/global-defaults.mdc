---
description: 全局默认约定——对所有窗口、所有项目生效
alwaysApply: true
---

# 全局默认约定

**「全局」的定义**：**对所有窗口、所有项目有效**。用户说「设为全局」「弄成全局」「要全局的」等，一律按此理解：不限于当前对话或当前项目，而是所有 Cursor 窗口、所有打开的项目都生效。

**全局配置的物理位置（Windows，本机）**：
- **规则**：`C:\Users\14420\.cursor\rules\`（本文件所在目录）。规则文件写在这里，所有窗口都会加载。
- **技能**：`C:\Users\14420\.cursor\skills-cursor\`。已在此即视为全局，所有对话都会考虑使用。
- **MCP**：`C:\Users\14420\.cursor\mcp.json`。只维护这一份，不在各项目里重复配置。
- **命令 (Commands)**：`C:\Users\14420\.cursor\commands\`。自定义 / 命令写在这里，所有项目都可输入 `/命令名` 使用。

---

1. **「设为全局」即「对所有窗口有效」**  
   当用户说把某某（规则、MCP、技能、命令、设置等）**设为全局**或**变成全局**时，即表示：要使该设置**对所有窗口、所有项目**生效。必须把配置写到上述用户目录下的全局位置（规则 → `rules\`，技能 → `skills-cursor\`，MCP → `mcp.json`，命令 → `commands\`），而不是只写在当前项目的 `.cursor/` 下。

**设全局时的建议义务**：当用户说「设一个全局规则」「加一条全局技能」「设成全局命令」等时，必须先**给出建议**——若建议**不要加**（例如：太琐碎、容易冲突、更适合放项目里、或已有等价方式），要明确说「建议不加」，并简短说明原因，再问用户是否仍要添加；若建议加，则说明理由并直接协助写到对应全局位置。

2. **用户规则**：用户未来给出的所有规则均视为**默认全局规则**，除非用户明确指定为局部或文件级规则。新增/修改全局规则时，写入 `C:\Users\14420\.cursor\rules\`。

3. **技能 (Skills)**：所有已配置的 skill 均视为**全局可用**，在任意对话与上下文中都应考虑并适时使用。**新增或配置技能时，一律放到全局目录**：`C:\Users\14420\.cursor\skills-cursor\`。不在各项目的 `.cursor/` 下重复添加，确保任意窗口、任意项目都用同一份技能。

4. **MCP**：所有已配置的 MCP 均视为**全局可用**。**配置 MCP 时必须只写全局配置**：`C:\Users\14420\.cursor\mcp.json`。不在各项目的 `.cursor/mcp.json` 里重复添加，确保任意窗口、任意项目都用同一份 MCP。

5. **命令 (Commands)**：自定义命令（/命令名）**一律放到全局目录**：`C:\Users\14420\.cursor\commands\`。每个命令一个 .md 文件，内容为执行时的提示词。所有项目均可通过输入 `/` 使用这些命令。

6. **默认下载位置**：用户要求下载的文件或资源一律保存到**默认位置**。默认位置为当前工作区所在盘符（当前为 **E 盘**）；若用户未指定子路径，则使用工作区根目录。不要默认保存到 C 盘或系统目录。

7. **C 盘操作需确认**：凡是要在 **C 盘**写入、安装、修改或创建文件/目录的操作，执行前必须**先征得用户同意**，说明打算在 C 盘做什么、路径是什么，待用户确认后再执行。

8. **长期记忆 / 用户请求记录**：
   - **记录位置**：`e:\cursor-user-context\user-requests-log.md`（E 盘根目录下，不放在桌面或项目文件夹内）。
   - **何时记录**：用户在不同窗口、不同对话里说的**重要内容**都要记到这里。**不管当前是哪个窗口/项目**，都写入上述同一文件。
   - **记录粒度**：概要即可。
   - **何时读取**：当用户要求「总结一下之前跟你说过什么」「你帮我改过哪些东西」等时，**先读取该文件**，再基于内容回答。

以上约定用于统一理解「全局」含义、规则/MCP/技能的存放位置，以及下载、C 盘操作与长期记录的策略。
